
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.8">
    
    
      
        <title>Delete Local Media - Matrix Admin Sdk</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.644de097.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.e6a45f82.min.css">
        
          
          
          <meta name="theme-color" content="#e92063">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#delete-local-media" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Matrix Admin Sdk" class="md-header__button md-logo" aria-label="Matrix Admin Sdk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Matrix Admin Sdk
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Delete Local Media
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Matrix Admin Sdk" class="md-nav__button md-logo" aria-label="Matrix Admin Sdk" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Matrix Admin Sdk
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Matrix Admin SDK
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Endpoints
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Endpoints" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Endpoints
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          v1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="v1" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          v1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../account_validity/" class="md-nav__link">
        Account Validity
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../background_updates/" class="md-nav__link">
        Background Updates
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../delete_group/" class="md-nav__link">
        Delete Group
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Delete Local Media
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Delete Local Media
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoints" class="md-nav__link">
    Endpoints
  </a>
  
    <nav class="md-nav" aria-label="Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deletelocalmedia" class="md-nav__link">
    DeleteLocalMedia
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia" class="md-nav__link">
    matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.local_media_by_date_or_size" class="md-nav__link">
    local_media_by_date_or_size()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.specific_local_media" class="md-nav__link">
    specific_local_media()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deletelocalmediamodel" class="md-nav__link">
    DeleteLocalMediaModel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.models.delete_local_media.DeleteLocalMediaModel" class="md-nav__link">
    matrix_admin_sdk.models.delete_local_media.DeleteLocalMediaModel
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../edit_room_membership/" class="md-nav__link">
        Edit Room Membership
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../event_reports/" class="md-nav__link">
        Event Reports
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../purge_history/" class="md-nav__link">
        Purge History
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../purge_remote_media/" class="md-nav__link">
        Purge Remote Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../quarantine_media/" class="md-nav__link">
        Quarantine Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../querying_media/" class="md-nav__link">
        Querying Media
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../register_user/" class="md-nav__link">
        Register Users
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../registration_tokens/" class="md-nav__link">
        Registration Tokens
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../rooms/" class="md-nav__link">
        Rooms
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../forward_extremities/" class="md-nav__link">
        Forward Extremities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server_notices/" class="md-nav__link">
        Server Notices
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user_media_statistics/" class="md-nav__link">
        User Media Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user/" class="md-nav__link">
        User
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../user_rate_limits/" class="md-nav__link">
        User Rate Limits
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../server/" class="md-nav__link">
        Server
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../federation/" class="md-nav__link">
        Federation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#endpoints" class="md-nav__link">
    Endpoints
  </a>
  
    <nav class="md-nav" aria-label="Endpoints">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deletelocalmedia" class="md-nav__link">
    DeleteLocalMedia
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia" class="md-nav__link">
    matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.local_media_by_date_or_size" class="md-nav__link">
    local_media_by_date_or_size()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.specific_local_media" class="md-nav__link">
    specific_local_media()
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#models" class="md-nav__link">
    Models
  </a>
  
    <nav class="md-nav" aria-label="Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deletelocalmediamodel" class="md-nav__link">
    DeleteLocalMediaModel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#matrix_admin_sdk.models.delete_local_media.DeleteLocalMediaModel" class="md-nav__link">
    matrix_admin_sdk.models.delete_local_media.DeleteLocalMediaModel
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="delete-local-media">Delete Local Media<a class="headerlink" href="#delete-local-media" title="Permanent link">&para;</a></h1>
<h2 id="endpoints">Endpoints<a class="headerlink" href="#endpoints" title="Permanent link">&para;</a></h2>
<h3 id="deletelocalmedia"><a href="https://matrix-org.github.io/synapse/latest/admin_api/media_admin_api.html#delete-local-media">DeleteLocalMedia</a><a class="headerlink" href="#deletelocalmedia" title="Permanent link">&para;</a></h3>


  <div class="doc doc-object doc-class">

<a id="matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia"></a>
    <div class="doc doc-contents first">

      <p>This API deletes the local media from the disk of your own server.
This includes any local thumbnails and copies of media downloaded from remote
homeservers. This API will not affect media that has been uploaded
to external media repositories
(e.g <a href="https://github.com/turt2live/matrix-media-repo/">https://github.com/turt2live/matrix-media-repo/</a>).</p>

        <details class="quote">
          <summary>Source code in <code>matrix_admin_sdk/endpoints/v1/delete_local_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DeleteLocalMedia</span><span class="p">(</span><span class="n">Endpoint</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    This API deletes the local media from the disk of your own server.</span>
<span class="sd">    This includes any local thumbnails and copies of media downloaded from remote</span>
<span class="sd">    homeservers. This API will not affect media that has been uploaded</span>
<span class="sd">    to external media repositories</span>
<span class="sd">    (e.g https://github.com/turt2live/matrix-media-repo/).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">specific_local_media</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">media_id</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeleteLocalMediaModel</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete a specific media_id</span>
<span class="sd">        Args:</span>
<span class="sd">            server_name: The name of your local server (e.g matrix.org)</span>
<span class="sd">            media_id:The ID of the media (e.g abcdefghijklmnopqrstuvwx)</span>

<span class="sd">        Returns: DeleteLocalMediaModel</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;media/</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">media_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">RequestMethods</span><span class="o">.</span><span class="n">DELETE</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">res</span><span class="p">:</span> <span class="n">DeleteLocalMediaModel</span> <span class="o">=</span> <span class="n">DeleteLocalMediaModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">res</span>

    <span class="k">async</span> <span class="k">def</span> <span class="nf">local_media_by_date_or_size</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">before_ts</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">size_gt</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
        <span class="n">keep_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Delete local media by date or size</span>
<span class="sd">        Args:</span>
<span class="sd">            server_name: The name of your local server (e.g matrix.org).</span>
<span class="sd">            before_ts: Unix timestamp in milliseconds. Files that were last used before</span>
<span class="sd">                this timestamp will be deleted. It is the timestamp of last access,</span>
<span class="sd">                not the timestamp when the file was created.</span>
<span class="sd">            size_gt: Size of the media in bytes. Files that are larger will be deleted.</span>
<span class="sd">                Defaults to 0.</span>
<span class="sd">            keep_profiles: Switch to also delete files that are still used in image</span>
<span class="sd">                data (e.g user profile, room avatar). If false these files will be</span>
<span class="sd">                deleted. Defaults to true.</span>

<span class="sd">        Returns:</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">keep_profile_string</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="n">keep_profiles</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span>

        <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;media/</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">/delete?before_ts=</span><span class="si">{</span><span class="n">before_ts</span><span class="si">}</span><span class="s2">&amp;size_gt=</span><span class="si">{</span><span class="n">size_gt</span><span class="si">}</span><span class="s2">&amp;keep_profiles=</span><span class="si">{</span><span class="n">keep_profile_string</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>

        <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">RequestMethods</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{})</span>
        <span class="k">return</span> <span class="n">DeleteLocalMediaModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h2 id="matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.local_media_by_date_or_size" class="doc doc-heading">
<code class="highlight language-python"><span class="n">local_media_by_date_or_size</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">before_ts</span><span class="p">,</span> <span class="n">size_gt</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">keep_profiles</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

<a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.local_media_by_date_or_size" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Delete local media by date or size</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of your local server (e.g matrix.org).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>before_ts</code></td>
        <td><code>int</code></td>
        <td><p>Unix timestamp in milliseconds. Files that were last used before
this timestamp will be deleted. It is the timestamp of last access,
not the timestamp when the file was created.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>size_gt</code></td>
        <td><code>int</code></td>
        <td><p>Size of the media in bytes. Files that are larger will be deleted.
Defaults to 0.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>keep_profiles</code></td>
        <td><code>bool</code></td>
        <td><p>Switch to also delete files that are still used in image
data (e.g user profile, room avatar). If false these files will be
deleted. Defaults to true.</p></td>
        <td><code>True</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>matrix_admin_sdk/endpoints/v1/delete_local_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">local_media_by_date_or_size</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">before_ts</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">size_gt</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">keep_profiles</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete local media by date or size</span>
<span class="sd">    Args:</span>
<span class="sd">        server_name: The name of your local server (e.g matrix.org).</span>
<span class="sd">        before_ts: Unix timestamp in milliseconds. Files that were last used before</span>
<span class="sd">            this timestamp will be deleted. It is the timestamp of last access,</span>
<span class="sd">            not the timestamp when the file was created.</span>
<span class="sd">        size_gt: Size of the media in bytes. Files that are larger will be deleted.</span>
<span class="sd">            Defaults to 0.</span>
<span class="sd">        keep_profiles: Switch to also delete files that are still used in image</span>
<span class="sd">            data (e.g user profile, room avatar). If false these files will be</span>
<span class="sd">            deleted. Defaults to true.</span>

<span class="sd">    Returns:</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">keep_profile_string</span> <span class="o">=</span> <span class="s2">&quot;true&quot;</span> <span class="k">if</span> <span class="n">keep_profiles</span> <span class="k">else</span> <span class="s2">&quot;false&quot;</span>

    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">(</span>
        <span class="sa">f</span><span class="s2">&quot;media/</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">/delete?before_ts=</span><span class="si">{</span><span class="n">before_ts</span><span class="si">}</span><span class="s2">&amp;size_gt=</span><span class="si">{</span><span class="n">size_gt</span><span class="si">}</span><span class="s2">&amp;keep_profiles=</span><span class="si">{</span><span class="n">keep_profile_string</span><span class="si">}</span><span class="s2">&quot;</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">RequestMethods</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{})</span>
    <span class="k">return</span> <span class="n">DeleteLocalMediaModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h2 id="matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.specific_local_media" class="doc doc-heading">
<code class="highlight language-python"><span class="n">specific_local_media</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">,</span> <span class="n">media_id</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-async"><code>async</code></small>
  </span>

<a href="#matrix_admin_sdk.endpoints.v1.delete_local_media.DeleteLocalMedia.specific_local_media" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Delete a specific media_id</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>server_name</code></td>
        <td><code>str</code></td>
        <td><p>The name of your local server (e.g matrix.org)</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>media_id</code></td>
        <td><code>str</code></td>
        <td><p>The ID of the media (e.g abcdefghijklmnopqrstuvwx)</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>      

        <details class="quote">
          <summary>Source code in <code>matrix_admin_sdk/endpoints/v1/delete_local_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">async</span> <span class="k">def</span> <span class="nf">specific_local_media</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">server_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">media_id</span><span class="p">:</span> <span class="nb">str</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="n">DeleteLocalMediaModel</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Delete a specific media_id</span>
<span class="sd">    Args:</span>
<span class="sd">        server_name: The name of your local server (e.g matrix.org)</span>
<span class="sd">        media_id:The ID of the media (e.g abcdefghijklmnopqrstuvwx)</span>

<span class="sd">    Returns: DeleteLocalMediaModel</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;media/</span><span class="si">{</span><span class="n">server_name</span><span class="si">}</span><span class="s2">/</span><span class="si">{</span><span class="n">media_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="p">(</span><span class="n">RequestMethods</span><span class="o">.</span><span class="n">DELETE</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="n">res</span><span class="p">:</span> <span class="n">DeleteLocalMediaModel</span> <span class="o">=</span> <span class="n">DeleteLocalMediaModel</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">res</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>

<h2 id="models">Models<a class="headerlink" href="#models" title="Permanent link">&para;</a></h2>
<h3 id="deletelocalmediamodel">DeleteLocalMediaModel<a class="headerlink" href="#deletelocalmediamodel" title="Permanent link">&para;</a></h3>


  <div class="doc doc-object doc-class">

<a id="matrix_admin_sdk.models.delete_local_media.DeleteLocalMediaModel"></a>
    <div class="doc doc-contents first">

      <p>DeleteLocalMedia class</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>deleted_media</code></td>
        <td><code>list[str]</code></td>
        <td><p>List of deleted media_id</p></td>
      </tr>
      <tr>
        <td><code>total</code></td>
        <td><code>int</code></td>
        <td><p>Total number of deleted media_id</p></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>matrix_admin_sdk/models/delete_local_media.py</code></summary>
          <div class="highlight"><pre><span></span><code><span class="k">class</span> <span class="nc">DeleteLocalMediaModel</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    DeleteLocalMedia class</span>
<span class="sd">    Attributes:</span>
<span class="sd">        deleted_media (list[str]): List of deleted media_id</span>
<span class="sd">        total (int): Total number of deleted media_id</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">deleted_media</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>
    <span class="n">total</span><span class="p">:</span> <span class="nb">int</span>
</code></pre></div>
        </details>



  <div class="doc doc-children">
















  </div>

    </div>

  </div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../delete_group/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Delete Group" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Delete Group
            </div>
          </div>
        </a>
      
      
        
        <a href="../edit_room_membership/" class="md-footer__link md-footer__link--next" aria-label="Next: Edit Room Membership" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Edit Room Membership
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.5e67fbfe.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.c44cc438.min.js"></script>
      
    
  </body>
</html>